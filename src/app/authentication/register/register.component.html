<mat-card>
  <mat-card-title style="text-align: center; margin-bottom: 8px"
    >Register</mat-card-title
  >
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="register()" class="column center-v">
      <p>
        <mat-form-field>
          <input
            type="email"
            matInput
            placeholder="Email"
            formControlName="email"
            required
          />
          <mat-error *ngIf="required('email')">Email is required</mat-error>
          <mat-error *ngIf="form.get('email')?.hasError('email')"
            >Please enter a valid email address</mat-error
          >
        </mat-form-field>
      </p>

      <p>
        <mat-form-field>
          <input
            type="password"
            matInput
            placeholder="Password"
            formControlName="password"
            required
          />
          <mat-error *ngIf="required('password')"
            >Password is required</mat-error
          >
          <mat-error *ngIf="form.get('password')?.hasError('minlength')"
            >At least 3 characters long</mat-error
          >
        </mat-form-field>
      </p>

      <p class="confirm-password-box">
        <mat-form-field>
          <input
            type="password"
            matInput
            placeholder="Confirm Password"
            formControlName="confirmPassword"
            (input)="showConfirmPasswordError = false"
            required
          />
          <mat-error *ngIf="required('confirmPassword')"
            >Password is required</mat-error
          >
          <mat-error *ngIf="form.get('confirmPassword')?.hasError('minlength')"
            >At least 3 characters long</mat-error
          >
        </mat-form-field>
        <span
          [class.visible]="showConfirmPasswordError"
          class="custom-error mat-mdc-form-field-subscript-wrapper mat-mdc-form-field-bottom-align"
        >
          <span
            class="mat-mdc-form-field-error mat-mdc-form-field-error-wrapper ng-tns-c3736059725-1 ng-trigger ng-trigger-transitionMessages ng-star-inserted"
            >Password mismatch</span
          >
        </span>
      </p>

      <div *ngIf="errorMessage" style="color: red">{{ errorMessage }}</div>

      <div class="auth-btn" type="submit">
        <button mat-raised-button color="primary" [disabled]="!registerBtn">
          Register
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>

<div>
  <button
    class="auth-btn"
    mat-raised-button
    color="primary"
    [disabled]="!registerBtn"
    (click)="this.router.navigate(['/'])"
  >
    Back
  </button>
</div>
